<!DOCTYPE html>
<html lang="ru" id="htmlTheme">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script>
        const darkTheme = `<%= darkTheme %>`;
        if (darkTheme === 'on') {
            document.documentElement.classList.add('darkTheme');
        } else {
            document.documentElement.classList.remove('darkTheme');
        }
    </script>
    <link rel="stylesheet" href="/stylesheets/admin/admin-header.css">
    <link rel="stylesheet" href="/stylesheets/theme.css">
    <noscript>
        <style>
            body{
                overflow: hidden;
            }
        </style>
        <div class="header-barrier"></div>
        <div class="header-border">
            <h1>JavaScript –æ—Ç–∫–ª—é—á—ë–Ω!</h1>
            <p>–î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å–∞–π—Ç–∞ –≤–∫–ª—é—á–∏—Ç–µ JavaScript –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞—à–µ–≥–æ –±—Ä–∞—É–∑–µ—Ä–∞. –í–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:</p>
            <ul style="text-align: left; display: inline-block;">
                <li><strong>Google Chrome:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞ ‚Üí JavaScript ‚Üí –í–∫–ª—é—á–∏—Ç–µ.</li>
                <li><strong>Mozilla Firefox:</strong> –í–≤–µ–¥–∏—Ç–µ <code>about:config</code> –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ ‚Üí –ù–∞–π–¥–∏—Ç–µ <code>javascript.enabled</code> ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ <code>true</code>.</li>
                <li><strong>Safari:</strong> –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å ‚Üí –í–∫–ª—é—á–∏—Ç–µ –æ–ø—Ü–∏—é JavaScript.</li>
                <li><strong>Microsoft Edge:</strong> –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã ‚Üí –§–∞–π–ª—ã cookie –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è —Å–∞–π—Ç–∞ ‚Üí JavaScript ‚Üí –í–∫–ª—é—á–∏—Ç–µ.</li>
                <li style="text-align: center;"><a href="/">–û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É</a> –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤–∫–ª—é—á–∏—Ç–µ JavaScript.</li>
            </ul>
            <p style="margin-top: -10px;">–ï—Å–ª–∏ –ø–æ—Å–ª–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π –Ω–µ —É–¥–∞–ª–æ—Å—å —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É, –æ–±—Ä–∞—Ç–∏—Ç–µ—Ç—å –≤ <a href="mailto:hffreelancers@gmail.com">–ø–æ–¥–¥–µ—Ä–∂–∫—É.</a></p>
            <br>
        </div>
    </noscript>
</head>
<script>
    const localeType = '<%= locale %>';
</script>
<body>
<header>
    <div class="container-logo">
        <h2><a class="logo" href="/">ùìöùì™ùì±ùì∏ùì∏ùìΩ</a></h2>
    </div>

    <div class="header-container">

        <div id="rules">
            <div class="dropdown">
                <p class="ha dropdown-title">–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å<span>‚ùØ</span></p>
                <div class="dropdown-content" style="width: 150px;">
                    <a href="/admin/user-contacts">–°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç–æ–≤</a>
                    <a href="/admin/list-users">–°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤</a>
                    <a href="/admin/list-news">–°–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π</a>
                    <a href="/admin/post-news">–†–∞–∑–º–µ—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç—å—é</a>
                </div>
            </div>
        </div>

    </div>

    <div class="account-container">

        <% if (user && user.name) { %>
            <div class="dropdown">
                <p class="ha dropdown-title"><%= user.name.length > 4 ? user.name.slice(0, 4) + '...' : user.name %><span>‚ùØ</span></p>
                <div class="dropdown-content">
                    <a onclick="logout();">–í—ã–π—Ç–∏</a>
                </div>
            </div>
        <% } %>
        <br>
        <div class="dropdown">
            <p class="ha dropdown-title">–†—É—Å—Å–∫–∏–π<span>‚ùØ</span></p>
            <div class="dropdown-content" style="width: 80px;">
                <a onclick="changeLocaleEn();">English</a>
            </div>
        </div>

    </div>

</header>
<%- include('../back.ejs') %>
<script src="/javascripts/timer.js"></script>
<script src="/javascripts/token.js"></script>
<script src="/javascripts/locale.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script>
    const dropdownContents = document.querySelectorAll('.dropdown-content');
    const dropdownTitles = document.querySelectorAll('.dropdown-title');
    const dropdown = document.querySelectorAll('.dropdown');

    dropdown.forEach((title, index) => {
        title.addEventListener('mouseover', () => {
            dropdownContents[index].style.display = 'flex';
            dropdownContents[index].style.transform = 'scaleY(1)';
            dropdownTitles[index].querySelector('span').style.transform = 'rotate(0)';
            dropdownTitles[index].style.backgroundColor = '#303740';
        });

        title.addEventListener('mouseout', () => {
            dropdownContents[index].style.display = 'none';
            dropdownContents[index].style.transform = 'scaleY(0)';
            dropdownTitles[index].querySelector('span').style.transform = 'rotate(90deg)';
            dropdownTitles[index].style.backgroundColor = '#1C2025';
        });
    });

    function logout() {
        fetch('/auth/logout', {
            method: 'POST',
            headers: {
                'Authorization': 'Bearer ' + localStorage.getItem('token')
            }
        }).then(res => res.json()).then((res) => {
            const {status, error} = res;
            if (error) {
                console.log('–û—à–∏–±–∫–∞ –≤—ã—Ö–æ–¥–∞', error);
                return;
            }

            if (status) {
                localStorage.removeItem('userInfo');
                localStorage.removeItem('token');
                localStorage.removeItem('session');
                localStorage.removeItem('sessionEndTime');
                window.location.href = "/auth/login";
                return;
            }
        });
    }
</script>
</body>
</html>